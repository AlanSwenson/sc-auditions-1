<section data-ng-controller="ReportsController" data-ng-init="findAudsPerProducer()">
    <div class="page-header">
        <h1>Audition Uploads Per Producer Report</h1>
        <h3 ng-if="audsPerProducer.count > 0">Total Audition Uploads Per Producer: {{audsPerProducer.count}}</h3>
        <h3 ng-if="audsPerProducer.count == 0">No Audition Uploads Per Producer Found!</h3>
        <div class="row">
        	<div class="col-md-6">
		        <div class="form-group">
				    <div class="panel panel-default">
				        <div class="panel-heading">
				            <strong>Start Date Filter (Click to select date)</strong>
				        </div>
				        <div class="panel-body">
				        	<datepicker ng-model="dateFilterStart" show-weeks="false" class="well well-sm"></datepicker>
				        </div>
				    </div>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-group">
				    <div class="panel panel-default">
				        <div class="panel-heading">
				            <strong>End Date Filter (Click to select date)</strong>
				        </div>
				        <div class="panel-body">
				        	<datepicker ng-model="dateFilterEnd" show-weeks="false" class="well well-sm"></datepicker>
				        </div>
				    </div>
			</div>
			</div>
			<div class="form-group" style="text-align:center">
				<button class="btn btn-primary" ng-click="findAudsPerProducer()">Search</button>
			</div>
	    </div>

    </div>
    <div class="list-group">
    	<div class="row">
    		<div class="col-md-12" ng-repeat="(key, producer) in audsPerProducer">
                <div>
                    <h2><a href="/#!/usersedit/{{key}}" target="_blank">{{producer.name}}</a></h2>
                    <div><a href="mailto:{{producer.email}}" target="_blank">{{producer.email}}</a></div>
                    <div><a href="/#!/usersedit/{{key}}" target="_blank">{{producer.username}}</a></div>
                    <div>Total Aud Uploads: {{producer.count}}</div>
    			</div>
                <div >
                <h3>Projects Active</h3>
                <table class="table table-striped table-hover">
                    <tr>
                        <th>Count</th>
                        <th>Project</th>
                    </tr>
                    <tr ng-repeat="(key, project) in producer.projects">
                        <td>{{project.count}}</td>
                        <td><a href="/#!/projects/{{key}}" target="_blank">{{project.title}}</a></td>
                    </tr>
                </table>
                </div>
    			
    			<div ng-if="project.missingAudsCnt == 0">
    				No Missing Talent
    			</div>
    		</div>
    	</div>
    </div>
</section>